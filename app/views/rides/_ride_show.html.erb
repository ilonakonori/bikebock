
  <!-- carousel -->
  <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
    <div class="carousel-inner" style='border-radius: 16px; height: 44vw; box-shadow: 0px 2px 8px 4px rgba(8, 13, 60, 0.3);'>
      <div class="carousel-item active">
        <%= cl_image_tag ride.photos.first.key, class: "d-block w-100" %>
      </div>
      <% ride.photos[1..-1].each do |photo| %>
        <div class="carousel-item">
          <%= cl_image_tag photo.key, class: "d-block w-100" %>
        </div>
      <% end %>
     </div>
    <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="sr-only">Previous</span>
    </a>
    <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="sr-only">Next</span>
    </a>
  </div>

  <br>

  <div class="card card-ride">

    <h4 style='font-size: 12px;'><%= ride.title %></h4>
    <p style='font-size: 12px;'><%= ride.short_description %></p>

    <div class='box'>
      <div class='line'></div>
      <div class='row'>
        <p style="z-index: 2; border-style: solid; border-width: 0; border-radius: 12px; font-size: 3vw; padding: 1vh 2vh; color: white; background-color: #23a194; font-weight: bolder; box-shadow: 0px 4px 4px rgba(8, 13, 60, 0.09);">
          <%= ride.start_location %></p>
        <p style= 'font-size: 12px;'>route</p>
        <p style="z-index: 2; border-style: solid; border-width: 0; border-radius: 12px; font-size: 3vw; padding: 1vh 2vh; color: white; background-color: #23a194; font-weight: bolder; box-shadow: 0px 4px 4px rgba(8, 13, 60, 0.09);">
          <%= ride.end_location %></p>
      </div>
    </div>


    <div class='box'>
      <div class='line'></div>
      <div class='row'>
        <p style="z-index: 2; border-style: solid; border-width: 0; border-radius: 12px; font-size: 3vw; padding: 1vh 2vh; color: white; background-color: #23a194; font-weight: bolder; box-shadow: 0px 4px 4px rgba(8, 13, 60, 0.09);">
          <%= ride.start_time.strftime("%H:%M") %></p>
          <p style='font-size: 12px;'><%= ride.duration %> h</p>
        <p style="z-index: 2; border-style: solid; border-width: 0; border-radius: 12px; font-size: 3vw; padding: 1vh 2vh; color: white; background-color: #23a194; font-weight: bolder; box-shadow: 0px 4px 4px rgba(8, 13, 60, 0.09);">
          <%= ride.end_time.strftime("%H:%M") %></p>
      </div>
    </div>

    <p style='margin: 0; padding: 0; font-size: 12px;'>Difficulty <%#= ride.difficulty %></p>
    <div class='box'>
      <div class='line'></div>
      <div class='row'>
        <div class='dot d'></div>
        <div class='dot d'></div>
        <div class='dot d'></div>
        <div class='dot d'></div>
        <div class='dot d'></div>
      </div>
    </div>

    <br>

    <p style='margin: 0; padding: 0; font-size: 12px;'>Number of people <%#= ride.number_of_people %></p>
    <div class='box'>
      <div class='line'></div>
      <div class='row'>
        <div class='dot n'></div>
        <div class='dot n'></div>
        <div class='dot n'></div>
        <div class='dot n'></div>
        <div class='dot n'></div>
      </div>
    </div>

    <div class="my-container" style="padding: 24px 0;">
      <div style="display: flex; flex-wrap: wrap; float: right;">
        <% ride.available_dates.split(', ').each do |d| %>
          <p style="border-style: solid; border-width: 0; border-radius: 12px; font-size: 3vw; padding: 1vh 2vh; color: white; background-color: #23a194; font-weight: bolder; margin-left: 1vh; opacity: 70%; box-shadow: 0px 4px 4px rgba(8, 13, 60, 0.09);">
             <%= d.to_date.strftime('%e %B %Y') %>
          </p>
        <% end %>
      </div>
    </div>

    <% if policy(ride).edit? %>
      <h6><%= link_to 'Edit', edit_ride_path(ride), class: "" %></h6>
    <% end %>
    <% if policy(ride).destroy? %>
      <h6><%= link_to "Delete", ride, class: "", method: :delete, data: {confirm: "Are you sure?"} %></h6>
    <% end %>
    <% if current_user != ride.user %>
      <%= link_to 'I want to go' %>
    <% end %>
  </div>

<script>
  function changeColor(class_name, i) {
    const dots = document.getElementsByClassName(class_name);
    while (i > 0) {
      dots[i-1].style.backgroundColor = '#23a194';
      i -= 1;
    }
  }
  window.onload = changeColor("dot d", parseInt('<%= ride.difficulty %>'));
  window.onload = changeColor("dot n", parseInt('<%= ride.number_of_people %>'));
</script>
