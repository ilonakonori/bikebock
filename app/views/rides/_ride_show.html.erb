
  <!-- carousel -->
  <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
    <div class="carousel-inner" style='border-radius: 16px; height: 44vw; box-shadow: 0px 2px 8px 4px rgba(8, 13, 60, 0.3);'>
      <div class="carousel-item active">
        <%= cl_image_tag ride.photos.first.key, class: "d-block w-100" %>
      </div>
      <% ride.photos[1..-1].each do |photo| %>
        <div class="carousel-item">
          <%= cl_image_tag photo.key, class: "d-block w-100" %>
        </div>
      <% end %>
     </div>
    <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="sr-only">Previous</span>
    </a>
    <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="sr-only">Next</span>
    </a>
  </div>

  <br>

  <div class="card card-ride">

    <h4><%= ride.title %></h4>
    <p><%= ride.short_description %></p>

    <p>Difficulty <%#= ride.difficulty %></p>
    <div class='box'>
      <div class='line'></div>
      <div class='row'>
        <div class='dot d'></div>
        <div class='dot d'></div>
        <div class='dot d'></div>
        <div class='dot d'></div>
        <div class='dot d'></div>
      </div>
    </div>

    <p>Number of people <%#= ride.number_of_people %></p>
    <div class='box'>
      <div class='line'></div>
      <div class='row'>
        <div class='dot n'></div>
        <div class='dot n'></div>
        <div class='dot n'></div>
        <div class='dot n'></div>
        <div class='dot n'></div>
      </div>
    </div>

    <p>Start location: <%= ride.start_location %></p>
    <p>End location: <%= ride.end_location %></p>
    <p>Start time: <%= ride.start_time.strftime("%H:%M") %></p>
    <p>End time: <%= ride.end_time.strftime("%H:%M") %></p>
    <p>Available dates: <%= ride.available_dates %></p>
    <p>Duration: <%= ride.duration %> h</p>

    <% if policy(ride).edit? %>
      <h6><%= link_to 'Edit', edit_ride_path(ride), class: "" %></h6>
    <% end %>
    <% if policy(ride).destroy? %>
      <h6><%= link_to "Delete", ride, class: "", method: :delete, data: {confirm: "Are you sure?"} %></h6>
    <% end %>
  </div>

<script>
  function changeColor(class_name, i) {
    const dots = document.getElementsByClassName(class_name);
    while (i > 0) {
      dots[i-1].style.backgroundColor = '#23a194';
      i -= 1;
    }
  }
  window.onload = changeColor("dot d", parseInt('<%= ride.difficulty %>'));
  window.onload = changeColor("dot n", parseInt('<%= ride.number_of_people %>'));
</script>
